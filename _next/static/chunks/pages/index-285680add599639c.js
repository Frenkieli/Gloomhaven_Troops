(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8581:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(2373)}])},8623:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});var o=n(5893),a=n(4298),i=n(8148);function r(){return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(a.default,{id:"google-analytics",strategy:"afterInteractive",children:"\n          (function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':\n          new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],\n          j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=\n          'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);\n        })(window,document,'script','dataLayer','".concat(i.cv,"');\n        ")}),(0,o.jsx)("noscript",{dangerouslySetInnerHTML:{__html:'<iframe src="https://www.googletagmanager.com/ns.html?id='.concat(i.cv,'"\n            height="0" width="0" style="display:none;visibility:hidden"></iframe>')}})]})}},8148:function(e,t,n){"use strict";n.d(t,{Vb:function(){return o},ge:function(){return a},im:function(){return i},JG:function(){return r},or:function(){return s},GR:function(){return c},cv:function(){return l}});var o="\u9a62\u5b50",a="\u9a62\u5f62\u5de5\u4f5c\u5ba4",i="\u7121\u540d\uff0d\u5e7d\u6e2f\u8ff7\u57ce",r="\u5e7d\u6697\u6e2f\u5167\u4e00\u7fa4\u50ad\u5175\u6b63\u9ed8\u9ed8\u7684\u6d3b\u52d5\u8457\uff0c\u56e0\u70ba\u5404\u81ea\u7684\u5229\u76ca\u548c\u751f\u6d3b\u7d44\u6210\u4e86\u4e00\u500b\u5718\u9ad4\u9032\u884c\u5404\u7a2e\u6d3b\u52d5\u3002",s="https://frenkieli.github.io/Gloomhaven_Troops",c="674189663950207",l="GTM-PVD92NV"},2373:function(e,t,n){"use strict";n.r(t),n.d(t,{__N_SSG:function(){return N},default:function(){return k}});var o=n(5893),a=n(7294),i=n(9008),r=n(8148),s=n(8623),c=n(9477);const l={type:"change"},d={type:"start"},u={type:"end"};class h extends c.pBf{constructor(e,t){super(),void 0===t&&console.warn('THREE.OrbitControls: The second parameter "domElement" is now mandatory.'),t===document&&console.error('THREE.OrbitControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.'),this.object=e,this.domElement=t,this.domElement.style.touchAction="none",this.enabled=!0,this.target=new c.Pa4,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.05,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.enablePan=!0,this.panSpeed=1,this.screenSpacePanning=!0,this.keyPanSpeed=7,this.autoRotate=!1,this.autoRotateSpeed=2,this.keys={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"},this.mouseButtons={LEFT:c.RsA.ROTATE,MIDDLE:c.RsA.DOLLY,RIGHT:c.RsA.PAN},this.touches={ONE:c.QmN.ROTATE,TWO:c.QmN.DOLLY_PAN},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this._domElementKeyEvents=null,this.getPolarAngle=function(){return r.phi},this.getAzimuthalAngle=function(){return r.theta},this.getDistance=function(){return this.object.position.distanceTo(this.target)},this.listenToKeyEvents=function(e){e.addEventListener("keydown",G),this._domElementKeyEvents=e},this.saveState=function(){n.target0.copy(n.target),n.position0.copy(n.object.position),n.zoom0=n.object.zoom},this.reset=function(){n.target.copy(n.target0),n.object.position.copy(n.position0),n.object.zoom=n.zoom0,n.object.updateProjectionMatrix(),n.dispatchEvent(l),n.update(),a=o.NONE},this.update=function(){const t=new c.Pa4,d=(new c._fP).setFromUnitVectors(e.up,new c.Pa4(0,1,0)),u=d.clone().invert(),f=new c.Pa4,g=new c._fP,A=2*Math.PI;return function(){const e=n.object.position;t.copy(e).sub(n.target),t.applyQuaternion(d),r.setFromVector3(t),n.autoRotate&&a===o.NONE&&M(2*Math.PI/60/60*n.autoRotateSpeed),n.enableDamping?(r.theta+=s.theta*n.dampingFactor,r.phi+=s.phi*n.dampingFactor):(r.theta+=s.theta,r.phi+=s.phi);let c=n.minAzimuthAngle,b=n.maxAzimuthAngle;return isFinite(c)&&isFinite(b)&&(c<-Math.PI?c+=A:c>Math.PI&&(c-=A),b<-Math.PI?b+=A:b>Math.PI&&(b-=A),r.theta=c<=b?Math.max(c,Math.min(b,r.theta)):r.theta>(c+b)/2?Math.max(c,r.theta):Math.min(b,r.theta)),r.phi=Math.max(n.minPolarAngle,Math.min(n.maxPolarAngle,r.phi)),r.makeSafe(),r.radius*=h,r.radius=Math.max(n.minDistance,Math.min(n.maxDistance,r.radius)),!0===n.enableDamping?n.target.addScaledVector(m,n.dampingFactor):n.target.add(m),t.setFromSpherical(r),t.applyQuaternion(u),e.copy(n.target).add(t),n.object.lookAt(n.target),!0===n.enableDamping?(s.theta*=1-n.dampingFactor,s.phi*=1-n.dampingFactor,m.multiplyScalar(1-n.dampingFactor)):(s.set(0,0,0),m.set(0,0,0)),h=1,!!(p||f.distanceToSquared(n.object.position)>i||8*(1-g.dot(n.object.quaternion))>i)&&(n.dispatchEvent(l),f.copy(n.object.position),g.copy(n.object.quaternion),p=!1,!0)}}(),this.dispose=function(){n.domElement.removeEventListener("contextmenu",V),n.domElement.removeEventListener("pointerdown",B),n.domElement.removeEventListener("pointercancel",U),n.domElement.removeEventListener("wheel",Z),n.domElement.removeEventListener("pointermove",Q),n.domElement.removeEventListener("pointerup",X),null!==n._domElementKeyEvents&&n._domElementKeyEvents.removeEventListener("keydown",G)};const n=this,o={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let a=o.NONE;const i=1e-6,r=new c.$V,s=new c.$V;let h=1;const m=new c.Pa4;let p=!1;const f=new c.FM8,g=new c.FM8,A=new c.FM8,b=new c.FM8,w=new c.FM8,y=new c.FM8,v=new c.FM8,E=new c.FM8,x=new c.FM8,j=[],P={};function T(){return Math.pow(.95,n.zoomSpeed)}function M(e){s.theta-=e}function O(e){s.phi-=e}const R=function(){const e=new c.Pa4;return function(t,n){e.setFromMatrixColumn(n,0),e.multiplyScalar(-t),m.add(e)}}(),L=function(){const e=new c.Pa4;return function(t,o){!0===n.screenSpacePanning?e.setFromMatrixColumn(o,1):(e.setFromMatrixColumn(o,0),e.crossVectors(n.object.up,e)),e.multiplyScalar(t),m.add(e)}}(),N=function(){const e=new c.Pa4;return function(t,o){const a=n.domElement;if(n.object.isPerspectiveCamera){const i=n.object.position;e.copy(i).sub(n.target);let r=e.length();r*=Math.tan(n.object.fov/2*Math.PI/180),R(2*t*r/a.clientHeight,n.object.matrix),L(2*o*r/a.clientHeight,n.object.matrix)}else n.object.isOrthographicCamera?(R(t*(n.object.right-n.object.left)/n.object.zoom/a.clientWidth,n.object.matrix),L(o*(n.object.top-n.object.bottom)/n.object.zoom/a.clientHeight,n.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),n.enablePan=!1)}}();function k(e){n.object.isPerspectiveCamera?h/=e:n.object.isOrthographicCamera?(n.object.zoom=Math.max(n.minZoom,Math.min(n.maxZoom,n.object.zoom*e)),n.object.updateProjectionMatrix(),p=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),n.enableZoom=!1)}function S(e){n.object.isPerspectiveCamera?h*=e:n.object.isOrthographicCamera?(n.object.zoom=Math.max(n.minZoom,Math.min(n.maxZoom,n.object.zoom/e)),n.object.updateProjectionMatrix(),p=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),n.enableZoom=!1)}function _(e){f.set(e.clientX,e.clientY)}function C(e){b.set(e.clientX,e.clientY)}function D(){if(1===j.length)f.set(j[0].pageX,j[0].pageY);else{const e=.5*(j[0].pageX+j[1].pageX),t=.5*(j[0].pageY+j[1].pageY);f.set(e,t)}}function I(){if(1===j.length)b.set(j[0].pageX,j[0].pageY);else{const e=.5*(j[0].pageX+j[1].pageX),t=.5*(j[0].pageY+j[1].pageY);b.set(e,t)}}function H(){const e=j[0].pageX-j[1].pageX,t=j[0].pageY-j[1].pageY,n=Math.sqrt(e*e+t*t);v.set(0,n)}function z(e){if(1==j.length)g.set(e.pageX,e.pageY);else{const t=J(e),n=.5*(e.pageX+t.x),o=.5*(e.pageY+t.y);g.set(n,o)}A.subVectors(g,f).multiplyScalar(n.rotateSpeed);const t=n.domElement;M(2*Math.PI*A.x/t.clientHeight),O(2*Math.PI*A.y/t.clientHeight),f.copy(g)}function Y(e){if(1===j.length)w.set(e.pageX,e.pageY);else{const t=J(e),n=.5*(e.pageX+t.x),o=.5*(e.pageY+t.y);w.set(n,o)}y.subVectors(w,b).multiplyScalar(n.panSpeed),N(y.x,y.y),b.copy(w)}function F(e){const t=J(e),o=e.pageX-t.x,a=e.pageY-t.y,i=Math.sqrt(o*o+a*a);E.set(0,i),x.set(0,Math.pow(E.y/v.y,n.zoomSpeed)),k(x.y),v.copy(E)}function B(e){!1!==n.enabled&&(0===j.length&&(n.domElement.setPointerCapture(e.pointerId),n.domElement.addEventListener("pointermove",Q),n.domElement.addEventListener("pointerup",X)),function(e){j.push(e)}(e),"touch"===e.pointerType?function(e){switch(W(e),j.length){case 1:switch(n.touches.ONE){case c.QmN.ROTATE:if(!1===n.enableRotate)return;D(),a=o.TOUCH_ROTATE;break;case c.QmN.PAN:if(!1===n.enablePan)return;I(),a=o.TOUCH_PAN;break;default:a=o.NONE}break;case 2:switch(n.touches.TWO){case c.QmN.DOLLY_PAN:if(!1===n.enableZoom&&!1===n.enablePan)return;n.enableZoom&&H(),n.enablePan&&I(),a=o.TOUCH_DOLLY_PAN;break;case c.QmN.DOLLY_ROTATE:if(!1===n.enableZoom&&!1===n.enableRotate)return;n.enableZoom&&H(),n.enableRotate&&D(),a=o.TOUCH_DOLLY_ROTATE;break;default:a=o.NONE}break;default:a=o.NONE}a!==o.NONE&&n.dispatchEvent(d)}(e):function(e){let t;switch(e.button){case 0:t=n.mouseButtons.LEFT;break;case 1:t=n.mouseButtons.MIDDLE;break;case 2:t=n.mouseButtons.RIGHT;break;default:t=-1}switch(t){case c.RsA.DOLLY:if(!1===n.enableZoom)return;!function(e){v.set(e.clientX,e.clientY)}(e),a=o.DOLLY;break;case c.RsA.ROTATE:if(e.ctrlKey||e.metaKey||e.shiftKey){if(!1===n.enablePan)return;C(e),a=o.PAN}else{if(!1===n.enableRotate)return;_(e),a=o.ROTATE}break;case c.RsA.PAN:if(e.ctrlKey||e.metaKey||e.shiftKey){if(!1===n.enableRotate)return;_(e),a=o.ROTATE}else{if(!1===n.enablePan)return;C(e),a=o.PAN}break;default:a=o.NONE}a!==o.NONE&&n.dispatchEvent(d)}(e))}function Q(e){!1!==n.enabled&&("touch"===e.pointerType?function(e){switch(W(e),a){case o.TOUCH_ROTATE:if(!1===n.enableRotate)return;z(e),n.update();break;case o.TOUCH_PAN:if(!1===n.enablePan)return;Y(e),n.update();break;case o.TOUCH_DOLLY_PAN:if(!1===n.enableZoom&&!1===n.enablePan)return;!function(e){n.enableZoom&&F(e),n.enablePan&&Y(e)}(e),n.update();break;case o.TOUCH_DOLLY_ROTATE:if(!1===n.enableZoom&&!1===n.enableRotate)return;!function(e){n.enableZoom&&F(e),n.enableRotate&&z(e)}(e),n.update();break;default:a=o.NONE}}(e):function(e){if(!1===n.enabled)return;switch(a){case o.ROTATE:if(!1===n.enableRotate)return;!function(e){g.set(e.clientX,e.clientY),A.subVectors(g,f).multiplyScalar(n.rotateSpeed);const t=n.domElement;M(2*Math.PI*A.x/t.clientHeight),O(2*Math.PI*A.y/t.clientHeight),f.copy(g),n.update()}(e);break;case o.DOLLY:if(!1===n.enableZoom)return;!function(e){E.set(e.clientX,e.clientY),x.subVectors(E,v),x.y>0?k(T()):x.y<0&&S(T()),v.copy(E),n.update()}(e);break;case o.PAN:if(!1===n.enablePan)return;!function(e){w.set(e.clientX,e.clientY),y.subVectors(w,b).multiplyScalar(n.panSpeed),N(y.x,y.y),b.copy(w),n.update()}(e)}}(e))}function X(e){K(e),0===j.length&&(n.domElement.releasePointerCapture(e.pointerId),n.domElement.removeEventListener("pointermove",Q),n.domElement.removeEventListener("pointerup",X)),n.dispatchEvent(u),a=o.NONE}function U(e){K(e)}function Z(e){!1!==n.enabled&&!1!==n.enableZoom&&a===o.NONE&&(e.preventDefault(),n.dispatchEvent(d),function(e){e.deltaY<0?S(T()):e.deltaY>0&&k(T()),n.update()}(e),n.dispatchEvent(u))}function G(e){!1!==n.enabled&&!1!==n.enablePan&&function(e){let t=!1;switch(e.code){case n.keys.UP:N(0,n.keyPanSpeed),t=!0;break;case n.keys.BOTTOM:N(0,-n.keyPanSpeed),t=!0;break;case n.keys.LEFT:N(n.keyPanSpeed,0),t=!0;break;case n.keys.RIGHT:N(-n.keyPanSpeed,0),t=!0}t&&(e.preventDefault(),n.update())}(e)}function V(e){!1!==n.enabled&&e.preventDefault()}function K(e){delete P[e.pointerId];for(let t=0;t<j.length;t++)if(j[t].pointerId==e.pointerId)return void j.splice(t,1)}function W(e){let t=P[e.pointerId];void 0===t&&(t=new c.FM8,P[e.pointerId]=t),t.set(e.pageX,e.pageY)}function J(e){const t=e.pointerId===j[0].pointerId?j[1]:j[0];return P[t.pointerId]}n.domElement.addEventListener("contextmenu",V),n.domElement.addEventListener("pointerdown",B),n.domElement.addEventListener("pointercancel",U),n.domElement.addEventListener("wheel",Z,{passive:!1}),this.update()}}var m=n(2792),p=n.n(m);function f(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var A=new c.dpR,b=(A.load("./three/normalmap/4_stonilyland.jpg"),A.load("./three/textrue/4_stonilyland.jpg"),function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),g(this,"canvasElement",null),g(this,"scene",null),g(this,"camera",null),g(this,"renderer",null),g(this,"stats",null),g(this,"loader",{}),g(this,"loadingManager",null),g(this,"setProgress",null),g(this,"sizes",{width:window.innerWidth,height:window.innerHeight}),this.canvasElement=t,this.setProgress=n}var t,n,o;return t=e,(n=[{key:"init",value:function(){this.initScene(),this.initCamera(),this.initLoadingManager(),this.initLoader(),window.addEventListener("resize",this.resizeTHREE.bind(this));var e=new c.Ox3(16777215,1);e.position.set(0,0,100);var t=new c.cBI(e);this.scene.add(e),this.scene.add(t),this.initRenderer()}},{key:"initScene",value:function(){this.scene=new c.xsS}},{key:"initCamera",value:function(){this.camera=new c.cPb(75,window.innerWidth/window.innerHeight,.1,3e3),this.camera.position.set(0,-420,420),this.camera.aspect=this.sizes.width/this.sizes.height,this.camera.lookAt(this.scene.position),this.scene.add(this.camera)}},{key:"initRenderer",value:function(){this.renderer=new c.CP7({canvas:this.canvasElement,antialias:!0}),this.renderer.setSize(window.innerWidth,window.innerHeight),this.renderer.setPixelRatio(Math.min(window.devicePixelRatio,2)),this.renderer.shadowMap.enabled=!0,this.render()}},{key:"initLoadingManager",value:function(){var e=this;this.loadingManager=new c.lLk,this.loadingManager.onStart=function(e,t,n){console.log("Started loading file: "+e+".\nLoaded "+t+" of "+n+" files.")},this.loadingManager.onLoad=function(){console.log("Loading complete!")},this.loadingManager.onProgress=function(t,n,o){e.setProgress(n/o*100),console.log("Loading file: "+t+".\nLoaded "+n+" of "+o+" files.")},this.loadingManager.onError=function(e){console.log("There was an error loading "+e)}}},{key:"initLoader",value:function(){this.loader.textrue=new c.dpR(this.loadingManager)}},{key:"initTool",value:function(){var e=new c.y8_(99999);this.scene.add(e),this.stats=new(p()),this.stats.setMode(0);var t=document.createElement("div");t.className="absolute t-0 l-0",t.appendChild(this.stats.domElement),document.body.appendChild(t),new h(this.camera,this.canvasElement).enableDamping=!0}},{key:"resizeTHREE",value:function(){this.sizes.width=window.innerWidth,this.sizes.height=window.innerHeight,this.camera.aspect=window.innerWidth/window.innerHeight,this.camera.updateProjectionMatrix(),this.renderer.setSize(window.innerWidth,window.innerHeight),this.renderer.setPixelRatio(Math.min(window.devicePixelRatio,2)),console.log(this)}},{key:"render",value:function(){requestAnimationFrame(this.render.bind(this)),this.stats&&this.stats.update(),this.renderer.render(this.scene,this.camera)}}])&&f(t.prototype,n),o&&f(t,o),e}()),w=JSON.parse('["1_sealand","2_sandland","3_woodland","4_stonilyland","5_iceland","6_cellarland","7_swampland","8_lavaland","9_grassland"]');function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function v(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function E(e,t,n){return(E=v()?Reflect.construct:function(e,t,n){var o=[null];o.push.apply(o,t);var a=new(Function.bind.apply(e,o));return n&&P(a,n.prototype),a}).apply(null,arguments)}function x(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function j(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function P(e,t){return(P=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function T(e){return function(e){if(Array.isArray(e))return y(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var M=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),j(this,"mainTHREE",null),j(this,"material",{}),j(this,"topographyDescription",{construct:{lightDesc:[{color:[16777215,1],position:[0,0,300]}],hexDesc:[[1,1,1,1,1],[1,1,1,1,1,1],[2,2,2,2,2],[2,2,2,2,2,2],[3,3,3,3,3],[3,3,3,3,3,3],[4,4,4,4,4],[4,4,4,4,4,4],[5,5,5,5,5],[5,5,5,5,5,5],[6,6,6,6,6],[6,6,6,6,6,6],[7,7,7,7,7],[7,7,7,7,7,7],[8,8,8,8,8],[8,8,8,8,8,8],[9,9,9,9,9],[9,9,9,9,9,9]]}}),this.mainTHREE=t;for(var n=0;n<w.length;n++){var o=w[n].split("_");this.material[o[0]]={name:o[1],textrue:t.loader.textrue.load("./three/textrue/"+w[n]+".jpg"),normalMap:t.loader.textrue.load("./three/normalmap/"+w[n]+".jpg")}}}var t,n,o;return t=e,(n=[{key:"setTopography",value:function(e){var t=this,n=25,o=n*Math.sqrt(3),a=this.topographyDescription[e],i=a.hexDesc,r=(a.lightDesc,2*o+(i.length-1)*o);i.forEach((function(e,a){var i=t,s=r/2-(o+a*o),c=100+6*(e.length-1)*n;e.forEach((function(e,t){var o=c/2-(50+6*t*n),a=i.createHex(e,n);a.position.set(o,s,0),i.mainTHREE.scene.add(a)}))}))}},{key:"createHex",value:function(e,t){var n=new c.fHI(2*t-2,2*t-2,10,6),o=new c.Wid({map:this.material[e].textrue,normalMap:this.material[e].normalMap}),a=new c.Kj0(n,o);return a.rotation.y=Math.PI/-2,a.rotation.x=Math.PI/-2,a}},{key:"createLight",value:function(e){return E(c.cek,T(e.color))}}])&&x(t.prototype,n),o&&x(t,o),e}(),O=n(7041),R=n.n(O),L=n(4298);console.log({src:"/Gloomhaven_Troops/_next/static/media/map.16cc68e9.jpg",height:603,width:728,blurDataURL:"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/sBCgoKCgoKCwwMCw8QDhAPFhQTExQWIhgaGBoYIjMgJSAgJSAzLTcsKSw3LVFAODhAUV5PSk9ecWVlcY+Ij7u7+//CABEIAAcACAMBIgACEQEDEQH/xAAoAAEBAAAAAAAAAAAAAAAAAAAABgEBAQAAAAAAAAAAAAAAAAAABAX/2gAMAwEAAhADEAAAAKkS3f/EABoQAAICAwAAAAAAAAAAAAAAAAERAgMABDH/2gAIAQEAAT8A2JUSpLDC6s//xAAWEQEBAQAAAAAAAAAAAAAAAAABACH/2gAIAQIBAT8AHC//xAAXEQADAQAAAAAAAAAAAAAAAAAAASER/9oACAEDAQE/AMrrP//Z"});var N=!0;function k(e){e.characterList;var t=(0,a.useRef)(),n=(0,a.useRef)(),c=(0,a.useRef)(),l=(0,a.useState)(0),d=l[0],u=l[1];return(0,a.useEffect)((function(){var e=new b(document.getElementById("gloomhaven"),u);e.init(),e.initTool(),new M(e).setTopography("construct")}),[]),(0,a.useEffect)((function(){100===d&&(console.log("100"),n.current.classList.add("opacity-0"),c.current.classList.add("cursor-pointer"),c.current.classList.remove("opacity-0"))}),[d]),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(i.default,{children:[(0,o.jsx)("link",{rel:"shortcut icon",href:r.or+"/images/icon.jpg"}),(0,o.jsx)("link",{rel:"apple-touch-icon-precomposed",sizes:"192x192",href:r.or+"/images/icon.jpg"}),(0,o.jsx)("title",{children:r.im}),(0,o.jsx)("meta",{name:"author",content:r.Vb}),(0,o.jsx)("meta",{name:"copyright",content:r.ge}),(0,o.jsx)("meta",{name:"name",content:r.im}),(0,o.jsx)("meta",{name:"image",content:r.or+"/images/share.jpg"}),(0,o.jsx)("meta",{name:"description",content:r.JG}),(0,o.jsx)("meta",{property:"og:title",content:r.im}),(0,o.jsx)("meta",{property:"og:type",content:"article"}),(0,o.jsx)("meta",{property:"article:section",content:"table of contents"}),(0,o.jsx)("meta",{property:"og:url",content:"https://www.facebook.com/lyumage"}),(0,o.jsx)("meta",{property:"og:image",content:r.or+"/images/share.jpg"}),(0,o.jsx)("meta",{property:"og:description",content:r.JG}),(0,o.jsx)("meta",{property:"og:site_name",content:r.im}),(0,o.jsx)("meta",{property:"fb:app_id",content:r.GR})]}),(0,o.jsx)(L.default,{src:"./lib/html2canvas.js"}),(0,o.jsx)(s.Z,{}),(0,o.jsx)("div",{ref:t,className:"\n        uppercase tracking-widest md:tracking-one ".concat(R()["font-DotGothic16"]," \n        z-10 fixed top-0 right-0 bottom-0 left-0 \n        cursor-default select-none\n        text-white bg-black"),children:(0,o.jsxs)("div",{className:" h-full w-full flex flex-col justify-center items-center ",children:[(0,o.jsx)("h1",{className:"text-4xl md:text-7xl font-black leading-normal md:leading-normal",children:"gloomhaven"}),(0,o.jsx)("h2",{className:"text-xl md:text-3xl font-medium leading-normal md:leading-normal",children:r.im}),(0,o.jsxs)("div",{ref:n,className:" fixed bottom-20 w-1/2 h-6 border border-solid border-white rounded-2xl overflow-hidden duration-300 ",children:[(0,o.jsx)("span",{className:" tracking-widest absolute left-1/2 top-1/2 translate-x-center translate-y-center text-white mix-blend-difference ",children:Math.floor(d)+"%"}),(0,o.jsx)("div",{className:" h-full bg-white rounded-2xl duration-100 ",style:{width:d+"%"}})]}),(0,o.jsx)("div",{ref:c,className:" duration-300 opacity-0 fixed bottom-20 overflow-hidden text-white text-6xl md:text-9xl ",onClick:function(){100===d&&(console.log("start"),html2canvas(t.current,{removeContainer:!0,useCORS:!0,scrollY:0,scrollX:0,dpi:96,onrendered:function(){console.log("\u5b8c\u6210")}}).then((function(e){var n=document.createElement("img");n.src=e.toDataURL(),n.onload=function(){var e=document.createElement("canvas"),o=e.getContext("2d");e.width=n.width,e.height=n.height,o.drawImage(n,0,0,window.innerWidth,window.innerHeight),e.className="z-10 fixed top-0 left-0",document.body.appendChild(e),t.current.remove(),function(e){for(var t=e.getContext("2d"),n=Math.ceil(e.width/10),o=Math.ceil(e.height/10),a=[],i=0;i<n;i++){a[i]=[];for(var r=0;r<o;r++)a[i].push([10*i,10*r,10,10])}var s=Math.floor(a.length*a[0].length/100),c=setInterval((function(){for(var n=0;n<s;n++){var o=Math.floor(Math.random()*a.length),i=Math.floor(Math.random()*a[o].length);if(t.beginPath(),t.globalCompositeOperation="destination-out",t.fillStyle="#fa0",t.rect(a[o][i][0],a[o][i][1],a[o][i][2],a[o][i][3]),t.fill(),t.closePath(),a[o].splice(i,1),0===a[o].length&&(a.splice(o,1),console.log("\u6d88\u5931\u4e00\u500b")),0===a.length){e.remove(),clearInterval(c),console.log("\u95dc\u9589");break}}}),2)}(e)}})))},children:"START"})]})}),(0,o.jsx)("div",{children:(0,o.jsx)("canvas",{id:"gloomhaven"})})]})}},7041:function(e){e.exports={"font-DotGothic16":"styles_font-DotGothic16__yhzH6"}},9008:function(e,t,n){e.exports=n(5443)},4298:function(e,t,n){e.exports=n(699)},2792:function(e){e.exports=function(){"use strict";var e=function(){var t=0,n=document.createElement("div");function o(e){return n.appendChild(e.dom),e}function a(e){for(var o=0;o<n.children.length;o++)n.children[o].style.display=o===e?"block":"none";t=e}n.style.cssText="position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000",n.addEventListener("click",(function(e){e.preventDefault(),a(++t%n.children.length)}),!1);var i=(performance||Date).now(),r=i,s=0,c=o(new e.Panel("FPS","#0ff","#002")),l=o(new e.Panel("MS","#0f0","#020"));if(self.performance&&self.performance.memory)var d=o(new e.Panel("MB","#f08","#201"));return a(0),{REVISION:16,dom:n,addPanel:o,showPanel:a,begin:function(){i=(performance||Date).now()},end:function(){s++;var e=(performance||Date).now();if(l.update(e-i,200),r+1e3<=e&&(c.update(1e3*s/(e-r),100),r=e,s=0,d)){var t=performance.memory;d.update(t.usedJSHeapSize/1048576,t.jsHeapSizeLimit/1048576)}return e},update:function(){i=this.end()},domElement:n,setMode:a}};return e.Panel=function(e,t,n){var o=1/0,a=0,i=Math.round,r=i(window.devicePixelRatio||1),s=80*r,c=48*r,l=3*r,d=2*r,u=3*r,h=15*r,m=74*r,p=30*r,f=document.createElement("canvas");f.width=s,f.height=c,f.style.cssText="width:80px;height:48px";var g=f.getContext("2d");return g.font="bold "+9*r+"px Helvetica,Arial,sans-serif",g.textBaseline="top",g.fillStyle=n,g.fillRect(0,0,s,c),g.fillStyle=t,g.fillText(e,l,d),g.fillRect(u,h,m,p),g.fillStyle=n,g.globalAlpha=.9,g.fillRect(u,h,m,p),{dom:f,update:function(c,A){o=Math.min(o,c),a=Math.max(a,c),g.fillStyle=n,g.globalAlpha=1,g.fillRect(0,0,s,h),g.fillStyle=t,g.fillText(i(c)+" "+e+" ("+i(o)+"-"+i(a)+")",l,d),g.drawImage(f,u+r,h,m-r,p,u,h,m-r,p),g.fillRect(u+m-r,h,r,p),g.fillStyle=n,g.globalAlpha=.9,g.fillRect(u+m-r,h,r,i((1-c/A)*p))}}},e}()}},function(e){e.O(0,[737,774,888,179],(function(){return t=8581,e(e.s=t);var t}));var t=e.O();_N_E=t}]);